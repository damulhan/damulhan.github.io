<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Day 7 – Create and run your first project | 프로그래밍 인 액션</title>
    <meta name="generator" content="VuePress 1.9.9">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-FZZE483ETN"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-FZZE483ETN');
    </script>
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.17886239.css" as="style"><link rel="preload" href="/assets/js/app.e020f7bd.js" as="script"><link rel="preload" href="/assets/js/8.f8a27090.js" as="script"><link rel="preload" href="/assets/js/34.583faad6.js" as="script"><link rel="prefetch" href="/assets/js/10.6fce9f60.js"><link rel="prefetch" href="/assets/js/11.2d17f5eb.js"><link rel="prefetch" href="/assets/js/12.bf59733f.js"><link rel="prefetch" href="/assets/js/13.a8b52d9b.js"><link rel="prefetch" href="/assets/js/14.c4af07a0.js"><link rel="prefetch" href="/assets/js/15.3d856255.js"><link rel="prefetch" href="/assets/js/16.588eccab.js"><link rel="prefetch" href="/assets/js/17.24b16851.js"><link rel="prefetch" href="/assets/js/18.a6039819.js"><link rel="prefetch" href="/assets/js/19.a4250e41.js"><link rel="prefetch" href="/assets/js/2.2e88546e.js"><link rel="prefetch" href="/assets/js/20.9ec3356e.js"><link rel="prefetch" href="/assets/js/21.c9b3acba.js"><link rel="prefetch" href="/assets/js/22.9f604d6b.js"><link rel="prefetch" href="/assets/js/23.40204a70.js"><link rel="prefetch" href="/assets/js/24.676de2f8.js"><link rel="prefetch" href="/assets/js/25.b990bbc9.js"><link rel="prefetch" href="/assets/js/26.e1d6b8b2.js"><link rel="prefetch" href="/assets/js/27.f39b7922.js"><link rel="prefetch" href="/assets/js/28.85f2eea3.js"><link rel="prefetch" href="/assets/js/29.f4594166.js"><link rel="prefetch" href="/assets/js/3.50da57f6.js"><link rel="prefetch" href="/assets/js/30.a6760802.js"><link rel="prefetch" href="/assets/js/31.338010b8.js"><link rel="prefetch" href="/assets/js/32.e6b70ee6.js"><link rel="prefetch" href="/assets/js/33.59c1939e.js"><link rel="prefetch" href="/assets/js/35.2284c2f2.js"><link rel="prefetch" href="/assets/js/36.5c184555.js"><link rel="prefetch" href="/assets/js/37.211de6f3.js"><link rel="prefetch" href="/assets/js/38.d5267f05.js"><link rel="prefetch" href="/assets/js/39.a4f11fcb.js"><link rel="prefetch" href="/assets/js/4.8b550d71.js"><link rel="prefetch" href="/assets/js/40.fce01b66.js"><link rel="prefetch" href="/assets/js/41.f6faa401.js"><link rel="prefetch" href="/assets/js/42.9526cc90.js"><link rel="prefetch" href="/assets/js/43.596505b1.js"><link rel="prefetch" href="/assets/js/44.7bb9afee.js"><link rel="prefetch" href="/assets/js/45.89ab27ec.js"><link rel="prefetch" href="/assets/js/46.798fa05d.js"><link rel="prefetch" href="/assets/js/47.f22eedc4.js"><link rel="prefetch" href="/assets/js/48.4e539c23.js"><link rel="prefetch" href="/assets/js/49.e0dcf2cc.js"><link rel="prefetch" href="/assets/js/5.c77d8215.js"><link rel="prefetch" href="/assets/js/50.8fd5c00e.js"><link rel="prefetch" href="/assets/js/51.10a49966.js"><link rel="prefetch" href="/assets/js/52.c24c9aa6.js"><link rel="prefetch" href="/assets/js/53.74e79606.js"><link rel="prefetch" href="/assets/js/54.a3a328dc.js"><link rel="prefetch" href="/assets/js/55.0a3d399c.js"><link rel="prefetch" href="/assets/js/56.2f14e2d2.js"><link rel="prefetch" href="/assets/js/57.6c246fdc.js"><link rel="prefetch" href="/assets/js/58.4140c313.js"><link rel="prefetch" href="/assets/js/59.01d487f7.js"><link rel="prefetch" href="/assets/js/6.a6e440e7.js"><link rel="prefetch" href="/assets/js/60.0446ff28.js"><link rel="prefetch" href="/assets/js/61.d5b6b1a7.js"><link rel="prefetch" href="/assets/js/62.dc942955.js"><link rel="prefetch" href="/assets/js/63.67a66c62.js"><link rel="prefetch" href="/assets/js/64.5a331cdf.js"><link rel="prefetch" href="/assets/js/65.5e04463c.js"><link rel="prefetch" href="/assets/js/66.cc32db40.js"><link rel="prefetch" href="/assets/js/67.3a6502c7.js"><link rel="prefetch" href="/assets/js/68.e543b947.js"><link rel="prefetch" href="/assets/js/69.c6c56c1c.js"><link rel="prefetch" href="/assets/js/7.fb50de22.js"><link rel="prefetch" href="/assets/js/70.4f7ed14a.js"><link rel="prefetch" href="/assets/js/71.8cf0b0df.js"><link rel="prefetch" href="/assets/js/9.c9de3d13.js">
    <link rel="stylesheet" href="/assets/css/0.styles.17886239.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">프로그래밍 인 액션</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/clojure/" class="nav-link router-link-active">
  Clojure
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/clojure/" class="nav-link router-link-active">
  Clojure
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>clojure books</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/clojure/clojure_distilled" class="sidebar-heading clickable open"><span>Clojure 증류하기 (Clojure Distilled)</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/clojure/clojure_distilled/01-Intro.html" class="sidebar-link">서문</a></li><li><a href="/clojure/clojure_distilled/02-Immutable.html" class="sidebar-link">함수형 언어의 이점</a></li><li><a href="/clojure/clojure_distilled/11-Clojure_In_Action.html" class="sidebar-link">클로저 인 액션(Clojure In Action)</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/clojure/clojure_spells" class="sidebar-heading clickable"><span>Clojure로 주문읽기(casting spells in clojure)</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>7 days of clojure</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>columns &amp; lectures</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>talks</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="day-7-create-and-run-your-first-project"><a href="#day-7-create-and-run-your-first-project" class="header-anchor">#</a> Day 7 – Create and run your first project</h1> <p>These days, most Clojurists use Leiningen to build and manage their projects.</p> <h2 id="instalation"><a href="#instalation" class="header-anchor">#</a> Instalation</h2> <p>Leiningen is the easiest way to use Clojure with a focus on project automation and declarative configuration.
To see how to <a href="https://leiningen.org/" target="_blank" rel="noopener noreferrer">install<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and configure Leiningen, go to the official documentation and follow the necessary steps.</p> <h2 id="creating-a-new-project"><a href="#creating-a-new-project" class="header-anchor">#</a> Creating a new project</h2> <p>After the installation finishes, run to the terminal and create your first project with the command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lein new app my-first-clojure-app
</code></pre></div><p>Access the directory.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> my-first-clojure-app
</code></pre></div><p>When listing directory files, you should have output similar to this.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">.</span>
├── CHANGELOG.md
├── LICENSE
├── README.md
├── doc
│   └── intro.md
├── project.clj
├── resources
├── src
│   └── my_first_clojure_app
│       └── core.clj
└── <span class="token builtin class-name">test</span>
    └── my_first_clojure_app
        └── core_test.clj

<span class="token number">6</span> directories, <span class="token number">7</span> files
</code></pre></div><p>The <code>project.clj</code> file is the file that holds the project settings and specifies the dependencies for the project.</p> <div class="language-clojure extra-class"><pre class="language-clojure"><code><span class="token punctuation">(</span><span class="token keyword">defproject</span> my-first-clojure-app <span class="token string">&quot;0.1.0-SNAPSHOT&quot;</span>
  <span class="token symbol">:description</span> <span class="token string">&quot;FIXME: write description&quot;</span>
  <span class="token symbol">:url</span> <span class="token string">&quot;http://example.com/FIXME&quot;</span>
  <span class="token symbol">:license</span> <span class="token punctuation">{</span><span class="token symbol">:name</span> <span class="token string">&quot;EPL-2.0 OR GPL-2.0-or-later WITH Classpath-exception-2.0&quot;</span>
            <span class="token symbol">:url</span> <span class="token string">&quot;https://www.eclipse.org/legal/epl-2.0/&quot;</span><span class="token punctuation">}</span>
  <span class="token symbol">:dependencies</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>org.clojure/clojure <span class="token string">&quot;1.10.0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token symbol">:main</span> <span class="token operator">^</span>:skip-aot my-first-clojure-app.core
  <span class="token symbol">:target-path</span> <span class="token string">&quot;target/%s&quot;</span>
  <span class="token symbol">:profiles</span> <span class="token punctuation">{</span><span class="token symbol">:uberjar</span> <span class="token punctuation">{</span><span class="token symbol">:aot</span> <span class="token symbol">:all</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>In <code>src/my_first_clojure_app/core.clj</code> is where you will write your Clojure code for a while or until you need to separate the application into other namespaces.</p> <p>As the name suggests, <code>tests</code> is where you will store all test files for their respective resources.</p> <p>And finally, <code>resources</code> store's assets as images, etc.</p> <h2 id="run-the-project"><a href="#run-the-project" class="header-anchor">#</a> Run the project</h2> <p>Before running the project, open the file <code>src/my_first_clojure_app/core.clj</code> and change the entry point of your program.</p> <div class="language-clojure extra-class"><pre class="language-clojure"><code><span class="token punctuation">(</span><span class="token keyword">ns</span> my-first-clojure-app.core
  <span class="token punctuation">(</span><span class="token symbol">:gen-class</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> -main
  <span class="token string">&quot;I don't do a whole lot ... yet.&quot;</span>
  <span class="token punctuation">[</span>&amp; args<span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">println</span> <span class="token string">&quot;This is the first app in Clojure!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Then run the project with the command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lein run
</code></pre></div><p>This should be the output: <code>This is the first app in Clojure!</code></p> <p>Using <code>lein run</code> to test your development code is great and helps you save a lot of time without compiling a file.</p> <p>But there are cases where you will need to compile your program to run on other platforms that do not have Leiningen or some production code. To compilate the project, you can simply use the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lein uberjar
</code></pre></div><p>When you run the command, you will be presented with your Clojure program that can be run on any platform.</p> <p>If all went well, you should have the following console output.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Created <span class="token punctuation">..</span>./my-first-clojure-app/java <span class="token parameter variable">-jar</span> target/uberjar/my-first-clojure-app-0.1.0-SNAPSHOT-standalone.jar
</code></pre></div><p>Voce pode executar o programa gerado como faria com qualquer programa em Java.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> target/uberjar/my-first-clojure-app-0.1.0-SNAPSHOT-standalone.ja
</code></pre></div><p>Wow, congratulations! You now have all the basic details you need to build, run, and distribute (very) basic Clojure programs.</p> <h2 id="tests"><a href="#tests" class="header-anchor">#</a> Tests</h2> <p>Leiningen provides a more automated and simple way to run the tests in your application.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lein <span class="token builtin class-name">test</span>
</code></pre></div><p>That will generate the following output.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lein <span class="token builtin class-name">test</span> my-first-clojure-app.core-test

lein <span class="token builtin class-name">test</span> :only my-first-clojure-app.core-test/a-test

FAIL <span class="token keyword">in</span> <span class="token punctuation">(</span>a-test<span class="token punctuation">)</span> <span class="token punctuation">(</span>core_test.clj:7<span class="token punctuation">)</span>
FIXME, I fail.
expected: <span class="token punctuation">(</span><span class="token operator">=</span> <span class="token number">0</span> <span class="token number">1</span><span class="token punctuation">)</span>
  actual: <span class="token punctuation">(</span>not <span class="token punctuation">(</span><span class="token operator">=</span> <span class="token number">0</span> <span class="token number">1</span><span class="token punctuation">))</span>

Ran <span class="token number">1</span> tests containing <span class="token number">1</span> assertions.
<span class="token number">1</span> failures, <span class="token number">0</span> errors.
Tests failed.
</code></pre></div><p>Go to the <code>test/my_first_clojure_app/core_test.clj</code> file and change the test.</p> <div class="language-clojure extra-class"><pre class="language-clojure"><code><span class="token punctuation">(</span><span class="token function">deftest</span> a-test
  <span class="token punctuation">(</span><span class="token function">testing</span> <span class="token string">&quot;Fixed! It works now.&quot;</span>
    <span class="token punctuation">(</span><span class="token function">is</span> <span class="token punctuation">(</span><span class="token keyword">=</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Now, running again for <code>lein test</code> will get the following output.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lein <span class="token builtin class-name">test</span> my-first-clojure-app.core-test

Ran <span class="token number">1</span> tests containing <span class="token number">1</span> assertions.
<span class="token number">0</span> failures, <span class="token number">0</span> errors.
</code></pre></div><h2 id="test-your-knowledge"><a href="#test-your-knowledge" class="header-anchor">#</a> Test your knowledge</h2> <ul><li>Create a new app using <code>lein</code>.</li> <li>Use o conhecimento que voce adquiriu nos dias anteriores para criar novas funcionalidades ao seu programa.</li> <li>Compile your program with <code>lein uberjar</code> and send it to a friend to execute.</li> <li>Build your imagination and keep on studying.</li></ul> <hr> <h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p>This project is licensed under the MIT License.</p> <p><a href="http://badges.mit-license.org" target="_blank" rel="noopener noreferrer"><img src="http://img.shields.io/:license-mit-black.svg?style=flat-square" alt="License"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e020f7bd.js" defer></script><script src="/assets/js/8.f8a27090.js" defer></script><script src="/assets/js/34.583faad6.js" defer></script>
  </body>
</html>
